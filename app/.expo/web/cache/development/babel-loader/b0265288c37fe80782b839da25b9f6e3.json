{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useGet = useGet;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _UserContext = require(\"../contexts/UserContext\");\n\nvar _config = require(\"../config\");\n\nfunction useGet(endpoint) {\n  var initialValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var _React$useContext = _react.default.useContext(_UserContext.UserContext),\n      token = _React$useContext.token;\n\n  var _React$useState = _react.default.useState(initialValue),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      data = _React$useState2[0],\n      setData = _React$useState2[1];\n\n  _react.default.useEffect(function () {\n    _axios.default.get(\"\" + _config.BASE_URL + endpoint, {\n      headers: {\n        Authorization: \"bearer \" + token\n      }\n    }).then(function (_ref) {\n      var data = _ref.data;\n      setData(data);\n    });\n  }, [token, endpoint]);\n\n  return data;\n}","map":{"version":3,"sources":["E:/ecv/buddy_body/app/hooks/useGet.js"],"names":["useGet","endpoint","initialValue","React","useContext","UserContext","token","useState","data","setData","useEffect","axios","get","BASE_URL","headers","Authorization","then"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;;AACA;;AAEO,SAASA,MAAT,CAAgBC,QAAhB,EAA6C;AAAA,MAAnBC,YAAmB,uEAAJ,EAAI;;AAAA,0BAClCC,eAAMC,UAAN,CAAiBC,wBAAjB,CADkC;AAAA,MAC3CC,KAD2C,qBAC3CA,KAD2C;;AAAA,wBAE1BH,eAAMI,QAAN,CAAeL,YAAf,CAF0B;AAAA;AAAA,MAE3CM,IAF2C;AAAA,MAErCC,OAFqC;;AAGlDN,iBAAMO,SAAN,CAAgB,YAAM;AACpBC,mBACGC,GADH,MACUC,gBADV,GACqBZ,QADrB,EACiC;AAC7Ba,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,cAAYT;AADlB;AADoB,KADjC,EAMGU,IANH,CAMQ,gBAAY;AAAA,UAAVR,IAAU,QAAVA,IAAU;AAChBC,MAAAA,OAAO,CAACD,IAAD,CAAP;AACD,KARH;AASD,GAVD,EAUG,CAACF,KAAD,EAAQL,QAAR,CAVH;;AAWA,SAAOO,IAAP;AACD","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nimport {UserContext} from '../contexts/UserContext';\nimport {BASE_URL} from '../config';\n\nexport function useGet(endpoint, initialValue = []) {\n  const {token} = React.useContext(UserContext);\n  const [data, setData] = React.useState(initialValue);\n  React.useEffect(() => {\n    axios\n      .get(`${BASE_URL}${endpoint}`, {\n        headers: {\n          Authorization: `bearer ${token}`,\n        },\n      })\n      .then(({data}) => {\n        setData(data);\n      });\n  }, [token, endpoint]);\n  return data;\n}\n"]},"metadata":{},"sourceType":"script"}